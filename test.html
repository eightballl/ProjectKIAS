<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Data Project</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      .clickable-row {
        cursor: pointer;
        background-color: #42e88d;
        color: white;
      }

      .clickable-row:hover {
        background-color: #1cea45;
      }

      .detail-row {
        background-color: #f8f9fa;
      }
    </style>
  </head>
  <body class="p-4">
    <div class="container">
      <h1 class="mb-4">Data Project</h1>

      <!-- Tabel Project -->
      <table class="table table-bordered">
        <tbody>
          <!-- Baris Project -->
          <tr class="clickable-row" data-target="projectDetails">
            <td>Project: Aplikasi Kasir Laravel</td>
          </tr>
          <!-- Detail Project -->
          <tr id="projectDetails" class="detail-row d-none">
            <td>
              <p><strong>Creator:</strong> Eightball Creations</p>
              <p><strong>Created:</strong> 16 Juni 2025</p>
              <p><strong>Status:</strong> Aktif</p>
              <p>
                <strong>Keterangan:</strong> Aplikasi kasir berbasis Laravel dan
                Livewire, terintegrasi Midtrans, PWA, dan Bluetooth printer.
              </p>

              <!-- Tabel Task -->
              <table class="table table-bordered mt-3">
                <tbody>
                  <tr class="clickable-row" data-target="taskDetails">
                    <td>Task: Aplikasi Kasir Laravel</td>
                  </tr>
                  <tr id="taskDetails" class="detail-row d-none">
                    <td>
                      <p><strong>Creator:</strong> Task Eightball Creations</p>
                      <p><strong>Created:</strong> 16 Juni 2025</p>
                      <p><strong>Status:</strong> Aktif</p>
                      <p>
                        <strong>Keterangan:</strong> Aplikasi kasir berbasis Laravel dan
                        Livewire, terintegrasi Midtrans, PWA, dan Bluetooth printer.
                      </p>

                      <!-- Tabel Subtask -->
                      <table class="table table-bordered mt-3">
                        <tbody>
                          <tr class="clickable-row" data-target="subtaskDetails">
                            <td>Subtask: Aplikasi Kasir Laravel</td>
                          </tr>
                          <tr id="subtaskDetails" class="detail-row d-none">
                            <td>
                              <p><strong>Creator:</strong> Subtask Eightball Creations</p>
                              <p><strong>Created:</strong> 16 Juni 2025</p>
                              <p><strong>Status:</strong> Aktif</p>
                              <p>
                                <strong>Keterangan:</strong> Aplikasi kasir berbasis Laravel dan
                                Livewire, terintegrasi Midtrans, PWA, dan Bluetooth printer.
                              </p>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <!-- End Subtask -->
                    </td>
                  </tr>
                </tbody>
              </table>
              <!-- End Task -->
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Toggle dengan auto-close -->
    <script>
      document.querySelectorAll('.clickable-row').forEach(row => {
        row.addEventListener('click', function () {
          const targetId = this.dataset.target;
          const target = document.getElementById(targetId);

          // Tutup semua detail lainnya pada level yang sama
          const siblings = Array.from(this.parentElement.children);
          siblings.forEach(tr => {
            if (tr.id && tr.id !== targetId && tr.classList.contains('detail-row')) {
              tr.classList.add('d-none');
            }
          });

          // Toggle elemen target
          if (target) {
            target.classList.toggle('d-none');
          }
        });
      });
    </script>
  </body>
</html>
